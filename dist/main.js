(()=>{"use strict";var e={28:(e,n,r)=>{r.d(n,{Z:()=>l});var t=r(81),o=r.n(t),a=r(645),i=r.n(a)()(o());i.push([e.id,"* {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n    font-family: 'Lekton', sans-serif;\n}\n:root{\n    --grid-color:#0b043c;\n    --p1-grid-border:linear-gradient(-45deg, #00d9ff, #ffffff);\n    --p2-grid-border:linear-gradient(-45deg, #ff0000, #fae900);\n    --cell-background-color:#00c1fc;\n    --cell-hover-color:#ff0000;\n    --cell-border-color:#ffffff36;\n    --destroyer-color: rgb(173, 20, 0);\n    --destroyer-border: rgb(255, 8, 0);\n    --submarine-color: rgb(196, 152, 11);\n    --submarine-border:rgb(240, 209, 106);\n    --cruiser-color:rgb(55, 158, 7);\n    --cruiser-border:rgb(122, 240, 106);\n    --battleship-color: rgb(51, 63, 236);\n    --battleship-border:rgb(106, 137, 240);\n    --carrier-color: rgb(70, 6, 153);\n    --carrier-border:rgb(157, 106, 240);\n}\n\nhtml{\n    position: relative;\n    min-height: 100%;\n    background: aliceblue;\n    background-size: cover;\n}\n\nhtml,\nbody{\n    font-size: 100%;\n}\n.title{\n    font-size: 2.2rem;\n    margin: 1.5rem 0 0 0;\n    text-align: center;\n    text-transform: uppercase;\n}\n.gameboard{\n    transition: all 1s ease;\n}\n.p2-gameboard.show{\n    visibility: visible;\n    opacity: 1;\n}\n.p2-gameboard.hide{\n    visibility: hidden;\n    opacity: 0;\n}\n.game-containter{\n    position: relative;\n    display: flex;\n    justify-content: center;\n    margin: 0 auto;\n}\n.gameboards-container{\n    display: flex;\n    flex-direction: column;\n    justify-content: space-evenly;\n    align-items: center;\n    margin-bottom: 1rem;\n}\n.vertical{\n    flex-direction: column;\n}\n.fleet-autoplace,\n.play-again,\n.start{\n    font-size: 1rem;\n    color: inherit;\n    text-transform: uppercase;\n    border: linear-gradient(-45deg, #00d9ff, #ffffff);\n    background-color: aliceblue;\n    transform: scale(1);\n}\n\n.grid{\n    box-sizing: content-box;\n    background-color: aliceblue;\n    display: grid;\n    grid-gap: 0;\n    grid-template-columns: repeat(auto-fit, minmax(2rem, 1fr));\n    width: 20rem;\n    height: 20rem;\n    border-color: var(--cell-border-color);\n}\n.grid-disabled{\n    transform: scale(.8);\n    transition: all 1s ease;\n}\n.grid:hover{\n    border-radius: 5px;\n}\n.grid-cell{\n    border: 1px solid black;\n    width: 2rem;\n    height: 2rem;\n}\n.grid-cell:hover{\n    cursor: crosshair;\n    border-radius: 5px;\n}\n.p1-grid{\n    border: 2px solid;\n    border-image-slice: 1;\n    border-image-source: var(--p1-grid-border);\n}\n.p2-grid{\n    border:2px solid;\n    cursor:none;\n    border-image-source: var(--p2-grid-border);\n}\n.p1-grid > .grid-cell:hover{\n    cursor: none;\n    background-color: var(--cell-background-color);\n}\n.p2-grid > .grid-cell:hover{\n    cursor: crosshair;\n    background-color:var(--cell-hover-color);\n}\n.fleet-container{\n    position: absolute;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-around;\n    align-items: center;\n    color: forestgreen;\n    top: 13rem;\n}\n.fleet-container.slide-in{\n    transform: translateX(0);\n    opacity: 1;\n    z-index: 0;\n    transition: all 0.7s ease;\n}\n.fleet-container.slide-out{\n    transform: translateY(-8*1rem);\n    opacity: 0;\n    transition: all 0.7s ease;\n    z-index: -1;\n}\n.fleet-info{\n    display: none;\n    font-size: 1rem;\n    text-align: center;\n    transition: opacity 1s ease;\n}\n.fleet-info.show{\n    visibility: visible;\n    opacity: 1;\n}\n.fleet-info.hide{\n    visibility: hidden;\n    opacity: 0;\n}\n.fleet-draggable{\n    display: none;\n    flex-direction: row-reverse;\n    justify-content: space-evenly;\n    align-items: space-around;\n}\n.info-container{\n    visibility: hidden;\n    position: absolute;\n    top:0;\n    z-index: 1;\n    left:0;\n    display: flex;\n    justify-content: center;\n    text-transform: uppercase;\n    background-color: rgba(0,0,0,0.7);\n    backdrop-filter: blur(10px);\n    opacity: 0;\n    text-align: center;\n    font-size: 1.6rem;\n}\n.info-container.show{\n    visibility: visible;\n    opacity: 1;\n}\n\n.ship{\n    display: flex;\n    cursor: grab;\n    transition: transform 0.3s ease;\n    height: 1rem;\n}\n.vertical{\n    flex-direction: column;\n}\n.destroyer{\n    background-color: var(--destroyer-color);\n    border: 1px solid var(--destroyer-border);\n}\n.submarine{\n    background-color: var(--submarine-color);\n    border: 1px solid var(--submarine-border);\n}\n.cruiser{\n    background-color: var(--cruiser-color);\n    border: 1px solid var(--cruiser-border);\n}\n.battleship{\n    background-color: var(--battleship-color);\n    border: 1px solid var(--battleship-border);\n}\n.carrier{\n    background-color: var(--carrier-color);\n    border: 1px solid var(--carrier-border);\n}\n.hit{\n    background:radial-gradient(circle, #fff400 8%, #ba0505 55%);\n    clip-path: polygon(\n    49% 0,\n    61% 19%,\n    100% 1%,\n    79% 36%,\n    97% 40%,\n    83% 53%,\n    96% 73%,\n    76% 74%,\n    80% 100%,\n    59% 79%,\n    46% 100%,\n    38% 81%,\n    0 100%,\n    19% 67%,\n    4% 62%,\n    19% 47%,\n    0 31%,\n    26% 30%,\n    13% 1%,\n    41% 21%\n  );\n}\n.miss{\n    background-color:royalblue;\n}\n/*\n.hide{\n    visibility: hidden;\n    opacity: 0;\n}\n.show{\n    visibility: visible;\n    opacity: 1;\n}\n.slide-in {\n    transform: translateX(0);\n    opacity: 1;\n    z-index: 0;\n    transition: all 0.7s ease;\n}\n.slide-out{\n    transform: translateY(-8*cell-size('default'));\n    opacity: 0;\n    transition: all 0.7s ease;\n    z-index: -1;\n}\n*/",""]);const l=i},645:e=>{e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var r="",t=void 0!==n[5];return n[4]&&(r+="@supports (".concat(n[4],") {")),n[2]&&(r+="@media ".concat(n[2]," {")),t&&(r+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),r+=e(n),t&&(r+="}"),n[2]&&(r+="}"),n[4]&&(r+="}"),r})).join("")},n.i=function(e,r,t,o,a){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(t)for(var l=0;l<this.length;l++){var s=this[l][0];null!=s&&(i[s]=!0)}for(var c=0;c<e.length;c++){var d=[].concat(e[c]);t&&i[d[0]]||(void 0!==a&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=a),r&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=r):d[2]=r),o&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=o):d[4]="".concat(o)),n.push(d))}},n}},81:e=>{e.exports=function(e){return e[1]}},379:e=>{var n=[];function r(e){for(var r=-1,t=0;t<n.length;t++)if(n[t].identifier===e){r=t;break}return r}function t(e,t){for(var a={},i=[],l=0;l<e.length;l++){var s=e[l],c=t.base?s[0]+t.base:s[0],d=a[c]||0,u="".concat(c," ").concat(d);a[c]=d+1;var p=r(u),g={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==p)n[p].references++,n[p].updater(g);else{var f=o(g,t);t.byIndex=l,n.splice(l,0,{identifier:u,updater:f,references:1})}i.push(u)}return i}function o(e,n){var r=n.domAPI(n);return r.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;r.update(e=n)}else r.remove()}}e.exports=function(e,o){var a=t(e=e||[],o=o||{});return function(e){e=e||[];for(var i=0;i<a.length;i++){var l=r(a[i]);n[l].references--}for(var s=t(e,o),c=0;c<a.length;c++){var d=r(a[c]);0===n[d].references&&(n[d].updater(),n.splice(d,1))}a=s}}},569:e=>{var n={};e.exports=function(e,r){var t=function(e){if(void 0===n[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}n[e]=r}return n[e]}(e);if(!t)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");t.appendChild(r)}},216:e=>{e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},565:(e,n,r)=>{e.exports=function(e){var n=r.nc;n&&e.setAttribute("nonce",n)}},795:e=>{e.exports=function(e){var n=e.insertStyleElement(e);return{update:function(r){!function(e,n,r){var t="";r.supports&&(t+="@supports (".concat(r.supports,") {")),r.media&&(t+="@media ".concat(r.media," {"));var o=void 0!==r.layer;o&&(t+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),t+=r.css,o&&(t+="}"),r.media&&(t+="}"),r.supports&&(t+="}");var a=r.sourceMap;a&&"undefined"!=typeof btoa&&(t+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),n.styleTagTransform(t,e,n.options)}(n,e,r)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},589:e=>{e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}}},n={};function r(t){var o=n[t];if(void 0!==o)return o.exports;var a=n[t]={id:t,exports:{}};return e[t](a,a.exports,r),a.exports}r.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return r.d(n,{a:n}),n},r.d=(e,n)=>{for(var t in n)r.o(n,t)&&!r.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},r.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),r.nc=void 0,(()=>{const e=["carrier","battleship","crusier","submarine","destroyer"],n={carrier:5,battleship:4,cruiser:3,submarine:3,destroyer:2},t=(e=10)=>Math.floor(Math.random()*e),o=(e=10)=>[t(e),t(e)],a=e=>{const r={};return e.forEach((e=>r[e]=(e=>{const r=e,t=n[e];let o="horizontal";const a=Array(t).fill(null);return{id:r,length:t,hit:e=>a[e]="hit",getHits:()=>a,isSunk:()=>a.every((e=>"hit"===e)),getDirection:()=>o,changeDirection:()=>{o="horizontal"===o?"vertical":"horizontal"}}})(e))),r},i=()=>{let n=Array(10).fill(null).map((()=>Array(10).fill(null))),r=[];const t=(e,n,r,t)=>{let o=n+r,a=e;return"vertical"===t&&(o=n,a=e+r),[a,o]},a=(e,o,a)=>{const l=e.getDirection(),s=i(e.length,l,o,a);if(s){for(let r=0;r<e.length;r++){const[i,s]=t(o,a,r,l);n[i][s]={ship:e,index:r}}return r.push(e),s}return s},i=(e,r,o,a)=>{const i=[];for(let l=0;l<e;l++){const[e,s]=t(o,a,l,r);if(!(e<10&&s<10))return!1;i.push(n[e][s])}return i.every((e=>null===e))},l=e=>{const[n,r]=o();Math.random()>.5&&e.changeDirection(),a(e,n,r)||l(e)};return{getBoard:()=>n,placeShip:a,areAllShipsPlaced:()=>r.length===e.length,receiveAttack:(e,r)=>(null===n[e][r]?n[e][r]="miss":n[e][r].ship&&(n[e][r].ship.hit(n[e][r].index),n[e][r]="hit"),n[e][r]),areAllShipsSunk:()=>r.every((e=>e.isSunk())),autoPlaceFleet:e=>{for(const n in e)l(e[n])},reset:()=>{n=Array(10).fill(null).map((()=>Array(10).fill(null))),r=[]}}},l=(n="human")=>{let r=a(e);const t=e=>{const[n,r]=o(),a=e.getBoard()[n][r];"miss"===a||"hit"===a?t(e):e.receiveAttack(n,r)};return{getType:()=>n,getFleet:()=>r,attack:(e,n,r)=>r.receiveAttack(e,n),autoAttack:t,resetFleet:()=>r=a(e)}},s={p1Gameboard:document.querySelector(".p1-gameboard"),p2Gameboard:document.querySelector(".p2-gameboard"),p1Grid:document.querySelector(".p1-grid"),p2Grid:document.querySelector(".p2-grid"),infoContainer:document.querySelector(".info-container"),infoText:document.querySelector(".info-text"),autoPlaceBtn:document.querySelector(".fleet-autoplace"),playAgainBtn:document.querySelector(".play-again"),startBtn:document.querySelector(".start"),fleetContainer:document.querySelector(".fleet-container"),fleetDraggable:document.querySelector(".fleet-draggable"),fleetInfo:document.querySelector(".fleet-info")},c=(()=>{const e=(e,n,r)=>`<div class="grid-cell cell-${e}-${n} ${r}" data-y='${e}' data-x='${n}'></div>`;return{renderGrid:(n,r,t)=>{(e=>{e.textContent=""})(n);const o=r.getBoard(),a=o.length;let i="";for(let n=0;n<a;n++)for(let r=0;r<a;r++){let a=o[n][r];null===a?a="":a.ship&&(a="human"===t?a.ship.id:""),i+=e(n,r,a)}n.insertAdjacentHTML("afterbegin",i)},renderFleet:e=>{for(const n in e){const r=document.createElement("div");r.classList.add("ship",`${e[n].id}-container`),r.setAttribute("draggable",!0),r.dataset.ship=`${e[n].id}`;let t="";for(let r=0;r<e[n].length;r++)t+=`<div class=${e[n].id} data-index='${r}'></div>`;r.insertAdjacentHTML("afterbegin",t),s.fleetDraggable.prepend(r)}},autoPlace:()=>{s.startBtn.classList.add("show"),s.fleetInfo.classList.add("hide"),s.fleetInfo.classList.remove("show"),s.fleetDraggable.textContent=""},startGame:()=>{s.p1Gameboard.classList.toggle("grid-disabled"),s.p2Gameboard.classList.toggle("grid-disabled"),s.p2Gameboard.classList.toggle("hide"),s.p2Gameboard.classList.toggle("show"),s.startBtn.classList.remove("show"),s.autoPlaceBtn.classList.remove("show"),s.fleetContainer.classList.toggle("slide-out"),s.fleetContainer.classList.toggle("slide-in")},renderWinner:e=>{s.infoContainer.classList.toggle("show"),s.infoText.textContent=`${e.toUpperCase()}`},playAgain:()=>{s.infoContainer.classList.toggle("show"),s.p1Gameboard.classList.toggle("grid-disabled"),s.p2Gameboard.classList.toggle("grid-disabled"),s.p2Gameboard.classList.toggle("hide"),s.p2Gameboard.classList.toggle("show"),s.fleetInfo.classList.toggle("hide"),s.fleetInfo.classList.toggle("show"),s.autoPlaceBtn.classList.add("show")}}})(),d=c;var u=r(379),p=r.n(u),g=r(795),f=r.n(g),b=r(569),m=r.n(b),h=r(565),v=r.n(h),y=r(216),x=r.n(y),L=r(589),k=r.n(L),A=r(28),S={};S.styleTagTransform=k(),S.setAttributes=v(),S.insert=m().bind(null,"head"),S.domAPI=f(),S.insertStyleElement=x(),p()(A.Z,S),A.Z&&A.Z.locals&&A.Z.locals;let G=(e=>{const n=l("human");let r;r=l("singleplayer"===e?"computer":"human");const t=i(),o=i(),a=((e,n)=>{let r,t;const o=e=>t=Number(e.target.dataset.index),a=e=>{r=e.target},i=o=>{const a=o.target,i=e.getFleet()[r.dataset.ship],l="horizontal"===i.getDirection(),c=Number(a.dataset.y)-(l?0:t),u=Number(a.dataset.x)-(l?t:0);n.placeShip(i,c,u)&&(d.renderGrid(s.p1Grid,n,e.getType()),g(),r.parentElement.removeChild(r),n.areAllShipsPlaced()&&(s.startBtn.classList.add("show"),s.fleetInfo.classList.add("hide"),s.fleetInfo.classList.remove("show")))},l=e=>e.preventDefault(),c=e=>e.preventDefault(),u=()=>{},p=()=>{},g=()=>{const e=document.querySelectorAll(".ship"),n=s.p1Grid.childNodes;for(const n of e)n.addEventListener("mousedown",o),n.addEventListener("dragstart",a),n.addEventListener("dragend",p);for(const e of n)e.addEventListener("dragover",l),e.addEventListener("dragenter",c),e.addEventListener("dragleave",u),e.addEventListener("drop",i)};return{addDragAndDropEvenListeners:g}})(n,t),c=()=>{d.renderFleet(n.getFleet()),a.addDragAndDropEvenListeners(),document.querySelectorAll(".ship").forEach((e=>{e.addEventListener("dblclick",(e=>{const r=e.target.parentElement;n.getFleet()[r.dataset.ship].changeDirection(),r.classList.toggle("vertical")}))}))},u=e=>{const a=e.target;if(a.classList.contains("grid-cell")){const e=a.dataset.y,i=a.dataset.x,l=o.getBoard()[e][i];if("miss"!==l&&"hit"!==l&&(n.attack(e,i,o),r.autoAttack(t),p()),t.areAllShipsSunk()||o.areAllShipsSunk()){let e="";t.areAllShipsSunk()?e="Computer wins!":o.areAllShipsSunk()&&(e="You win!"),s.p2Grid.removeEventListener("click",u),d.renderWinner(e)}}},p=()=>{d.renderGrid(s.p1Grid,t,n.getType()),d.renderGrid(s.p2Grid,o,r.getType())};return{renderGrids:p,renderFleet:c,autoPlace:()=>{t.reset(),t.autoPlaceFleet(n.getFleet()),p(),d.autoPlace()},startGame:()=>{"human"===r.getType&&s.p1Grid.addEventListener("click",u),s.p2Grid.addEventListener("click",u),"computer"===r.getType()&&o.autoPlaceFleet(r.getFleet()),d.startGame()},playAgain:()=>{n.resetFleet(),r.resetFleet(),t.reset(),o.reset(),p(),d.playAgain(),c()}}})("singleplayer");G.renderGrids(),G.renderFleet(),s.autoPlaceBtn.addEventListener("click",(e=>{console.log("autoplaced player fleet"),G.autoPlace()})),s.startBtn.addEventListener("click",(e=>{console.log("GAME START"),G.startGame()})),s.playAgainBtn.addEventListener("click",(e=>{console.log("LETS PLAY AGAIN"),G.playAgain()}))})()})();